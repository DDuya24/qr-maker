const dictionary = {
    "안녕": "깨땅",
    "깨땅": "안녕",
    "나": "돌",
    "돌": "나",
    "너": "멩",
    "멩": "너",
    "우리": "데이위",
    "데이위": "우리",
    "그": "뿌리빵",
    "뿌리빵": "그",
    "그녀": "뿌리빠",
    "뿌리빠": "그녀",
    "경고": "돌멩이딱지",
    "돌멩이딱지": "경고",
    "벌점": "돌맹이딱지",
    "돌맹이딱지": "벌점",
    "등장": "칼룩씨",
    "퇴장": "빠룩씨",
    "칼룩씨": "등장",
    "빠룩씨": "퇴장",
    "성별": "씨잌코",
    "씨잌코": "성별",
    "멘지": "남자",
    "남자": "멘지",
    "유민": "여자",
    "여자": "유민",
    "성": "씨잌",
    "씨잌": "성",
    "성관계": "쎄잌쏘",
    "쎄잌쏘": "성관계",
    "야하다": "쎄잌싸이",
    "쎄잌싸이": "야하다",
    "감사": "빵쌍",
    "빵상": "감사",
    "최초": "야르숑시",
    "야르숑시": "감사",
    "엄마": "우르르르룩",
    "우르르르룩": "엄마",
    "아빠": "부르르르륽",
    "부르르르륽": "아빠",
    "동생": "빠르륵",
    "빠르륵": "동생",
    "여동생": "유빠르륵",
    "유빠르륵": "여동생",
    "남동생": "멘빠르륵",
    "멘빠르륵": "남동생",
    "누나": "메이륵",
    "메이륵": "누나",
    "언니": "마이륵",
    "마이륵": "언니",
    "형": "레이륵",
    "레이륵": "형",
    "오빠": "아이륵",
    "아이륵": "오빠",
    "크다": "빠마",
    "빠마": "크다",
    "작다": "방마",
    "방마": "작다",
    "밖": "팤팤",
    "팤팤": "밖",
    "바깥": "퓩퓩",
    "퓩퓩": "바깥",
    "사촌": "팡리륵",
    "팡리륵": "사촌",
    "너희": "이",
    "이": "너희",
    "너무": "뚜",
    "뚜": "너무",
    "많다": "풍마",
    "풍마": "많다",
    "적다": "퐁마",
    "퐁마": "적다",
    "집": "하움",
    "하움": "집",
    "밥": "니",
    "니": "밥",
    "먹다": "잇이",
    "잇이": "먹다",
    "관계": "쏘우",
    "쏘우": "관계",
    "하늘": "썅카",
    "썅카": "하늘",
    "해": "도르무을마",
    "도르무을마": "해",
    "달": "마르무으루므",
    "마르무으루므": "달",
    "위성": "무으루므",
    "무으루므": "위성",
    "행성": "카으루므",
    "카으루므": "행성",
    "항성": "무을마",
    "무을마": "항성",
    "별": "무을마므",
    "무을마므": "별",
    "지구": "자르마카으루므",
    "자르마카으루므": "지구",
    "수성": "마이죠옭카으루므",
    "마이죠옭카으루므": "수성",
    "금성": "까르볼카으루므",
    "까르볼카으루므": "금성",
    "화성": "신소이카으루므",
    "신소이카으루므": "화성",
    "목성": "마크로리카으루므",
    "마크로리카으루므": "목성",
    "토성": "타르탉카으루므",
    "타르탉카으루므": "토성",
    "천왕성": "차르무우리카으루므",
    "차르무우리카으루므": "천왕성",
    "해왕성": "카르무우리카으루므",
    "카르무우리카으루므": "해왕성",
    "왕": "무우리",
    "무우리": "왕",
    "왕자": "무우리카",
    "무우리카": "왕자",
    "공주": "마이크리카",
    "마이크리카": "공주",
    "할머니": "포르노",
    "포르노": "할머니",
    "할아버지": "파르카락",
    "파르카락": "할아버지",
    "맛있다": "웃이까르",
    "웃이까르": "맛있다",
    "조금": "쪼매",
    "쪼매": "조금",
    "제발": "라이어카",
    "라이어카": "제발",
    "확인": "후리카",
    "후리카": "확인",
    "귀엽다": "부르치",
    "부르치": "귀엽다",
    "예쁘다": "파르치",
    "파르치": "예쁘다",
    "재료": "훙르",
    "훙르": "재료",
    "강간": "파찌",
    "파찌": "강간",
    "기억": "우쯔리마테아르마카라스키라면",
    "우쯔리마테아르마카라스키라면": "기억",
    "뇌": "우짜리마테아크로넷토스키파르닭찌왉쎼읶",
    "우짜리마테아크로넷토스키파르닭찌왉쎼잌": "뇌",
    "공": "꽝",
    "꽝": "공",
    "얼마": "와르탉치",
    "와르탉치": "얼마",
    "정도": "수르묽",
    "수르묽": "정도",
    "돈": "파르카오룸",
    "파르카오룸": "돈",
    "이것": "딧므",
    "딧므": "이것",
    "저것": "돗므",
    "돗므": "저것",
    "저": "돌르",
    "돌르": "저",
    "저기": "후라챫",
    "후라챫": "저기",
    "떨어지다": "쿠르로못나",
    "쿠르로못나": "떨어지다",
    "올라가다": "호르로못나",
    "호르로못나": "올라가다",
    "내려가다": "후르로못나",
    "호르로못나": "내려가다",
    "가다": "로못나",
    "로못나": "가다",
    "빨리": "카앜",
    "카앜": "빨리",
    "빠르다": "헤엨쓰",
    "헤엨쓰": "빠르다",
    "똥": "페르카",
    "페르카": "똥",
    "매우": "신길",
    "신길": "매우",
    "아주": "레우",
    "레우": "아주",
    "아니": "노마이",
    "노마이": "아니",
    "정상": "후르위",
    "후르위": "정상",
    "무어": "마르리",
    "마르리": "무어",
    "물": "오우터",
    "오우터": "물",
    "불": "홍리르",
    "홍리르": "불",
    "풀": "팡코",
    "팡코": "풀",
    "연애": "항수르",
    "항수르": "연애",
    "경험": "에르치놓",
    "에르치놓": "경험",
    "생각": "파르애치무르카뿌렙쌸롱코부아타무르",
    "파르애치무르카뿌렙쌸롱코부아타무르": "생각",
    "대화": "다르아치노",
    "다르아치노": "대화",
    "얘기": "마르아치노",
    "마르아치노": "얘기",
    "어떤": "푸리랑카",
    "푸리랑카": "어떤",
    "한": "헹",
    "헹": "한",
    "같다": "자르마르",
    "자르마르": "같다",
    "어른": "에이칽",
    "에이칽": "어른",
    "아이": "오이칽",
    "오이칽": "아이",
    "청소년": "부수칽",
    "부수칽": "청소년",
    "맞다": "조이또",
    "조이또": "맞다",
    "야": "주르주르",
    "주르주르": "야",
    "나이": "칽",
    "칽": "나이",
    "아": "어허이",
    "어허이": "아",
    "하다": "암노데",
    "암노데": "하다",
    "모르다": "커모마데",
    "커모마데": "모르다",
    "노래": "마이즈",
    "마이즈": "노래",
    "단어": "노우",
    "노우": "단어",
    "알다": "다언",
    "다언": "알다",
    "사전": "스카투",
    "스카투": "사전",
    "듣다": "히이륑",
    "히이륑": "듣다",
    "적다": "렝투쎄",
    "렝투쎄": "적다",
    "웃다": "이예",
    "이예": "웃다",
    "올리다": "이쿠라무",
    "이쿠라무": "올리다",
    "씨발": "뻐큐",
    "뻐큐": "씨발",
    "정지": "아이고",
    "아이고": "정지",
    "이": "프",
    "프": "이",
    "새끼": "쿠르갇",
    "쿠르갇": "새끼",
    "때": "와우오로",
    "와우오로": "때",
    "비정상": "하이르위",
    "하이르위": "비정상",
    "그러면": "코르쿠",
    "코르쿠": "그러면",
    "어": "쉬에트",
    "쉬에트": "어",
    "실패": "류머우",
    "류머우": "실패",
    "절대": "나이카물",
    "나이카물": "절대",
    "넘어지다": "수욱나",
    "수욱나": "넘어지다",
    "두렵다": "다르카룩",
    "다르카룩": "두렵다",
    "무섭다": "헤르카룩",
    "헤르카룩": "무섭다",
    "포기": "힐러",
    "힐러": "포기",
    "따위": "노대라케",
    "노대라케": "따위",
    "앞": "베바노",
    "베바노": "앞",
    "뒤": "페바노",
    "페바노": "뒤",
    "왼": "투마노",
    "투마노": "왼",
    "오른": "비자노",
    "비자노": "오른",
    "위": "스트노",
    "스크노": "위",
    "아래": "마헤노",
    "마헤노": "아래",
    "옆": "두유노",
    "두유노": "옆",
    "위치": "파으데라므",
    "파으데라므": "위치",
    "가슴": "카름",
    "카름": "가슴",
    "빨다": "세르카르굵",
    "세르카르굵": "빨다",
    "보지": "상스크",
    "상스크": "보지",
    "성기": "씨잌칽",
    "씨잌칽": "성기",
    "자지": "레푸르",
    "레푸르": "자지",
    "검": "카르뮤",
    "카르뮤": "검",
    "칼": "가르뮤",
    "가르뮤": "칼",
    "도구": "뮤카름",
    "뮤카름": "도구",
    "흙": "팛",
    "팛": "흙",
    "도끼": "제르뮤",
    "제르뮤": "도끼",
    "고기": "콜마",
    "콜마": "고기",
    "찾아가다": "자르로못나",
    "자르로못나": "찾아가다",
    "찾다": "카릉데",
    "카릉대": "찾다",
    "도시": "나름무",
    "나름무": "도시",
    "마을": "오야시",
    "오야시": "마을",
    "동네": "우유시",
    "우유시": "동네",
    "지방": "스캐니",
    "스캐니": "지방",
    "공부": "슈밞",
    "슈밞": "공부",
    "학교": "아카르",
    "아카르": "학교",
    "초등학교": "조아카르",
    "조아카르": "초등학교",
    "중학교": "까아카르",
    "까아카르": "중학교",
    "고등학교": "모아카르",
    "모아카르": "고등학교",
    "대학교": "소아카르",
    "소아카르": "대학교",
    "학원": "사카르",
    "사카르": "학원",
    "숙제": "조지앎",
    "조지앎": "숙제",
    "과제": "사지앎",
    "사지앎": "과제",
    "방학": "세르홀",
    "세르홀": "방학",
    "휴학": "장바르",
    "장바르": "휴학",
    "휴강": "장자르",
    "장자르": "휴강",
    "자리": "쏘리칾",
    "쏘리칾": "자리",
    "잠": "셔비쏢띠",
    "셔비쏢띠": "잠",
    "휴식": "장비",
    "장비": "휴식",
    "삶": "머치",
    "머치": "삶",
    "인생": "그르카치",
    "그르카치": "인생",
    "사람": "그르카",
    "그르카": "사람",
    "생": "치",
    "치": "생",
    "사다": "노댓",
    "노댓": "사다",
    "살다": "머치풀",
    "머치풀": "살다",
    "나라": "호링인",
    "호링인": "나라",
    "국가": "지링인",
    "지링인": "국가",
    "외국": "퓩퓩인",
    "퓩퓩인": "외국",
    "싸다": "팕팕",
    "팕팕": "싸다",
    "대변": "페르카르미",
    "페르카르미": "대변",
    "소변": "주르카르미",
    "주르카르미": "소변",
    "오줌": "주르카",
    "주르카": "오줌",
    "설사": "조페르카",
    "조페르카": "설사",
    "변비": "제르카",
    "제르카": "변비",
    "꾀다": "자르밍",
    "자르밍": "꾀다",
    "멋지다": "돈츄",
    "돈츄": "멋지다",
    "잘": "아이거나",
    "아이거나": "잘",
    "계속": "아워스",
    "아워스": "계속",
    "이상": "파니메르마",
    "파니메르마": "이상",
    "이하": "퍼니메르마",
    "퍼니메르마": "이하",
    "대소관계": "메르마쏘",
    "메르마쏘": "대소관계",
    "초과": "빠니메르마",
    "빠니메르마": "초과",
    "뻐니메르마": "미만",
    "미만": "뻐니메르마",
    "금지": "웩수",
    "웩수": "금지",
    "가능": "도르렝",
    "도르렝": "가능",
    "진짜": "와쉣",
    "와쉣": "진짜",
    "문장": "널비스",
    "널비스": "문장",
    "말하다": "셔와라이",
    "셔와라이": "말하다",
    "검색": "스페치",
    "스페치": "검색",
    "것": "므",
    "므": "것",
    "변경": "췌씼",
    "췌씻": "변경",
    "바꾸다": "차이씼",
    "차이씼": "바꾸다",
    "년": "윗",
    "윗": "년",
    "월": "월스",
    "월스": "월",
    "일": "마잉",
    "마잉": "일",
    "하나": "탕",
    "탕": "하나",
    "둘": "돍",
    "돍": "둘",
    "셋": "쉶",
    "스;ㄻ": "셋",
    "넷": "폴",
    "폴": "넷",
    "다섯": "디론",
    "디론": "다섯",
    "여섯": "위르",
    "위르": "여섯",
    "일곱": "이룸",
    "이룸": "일곱",
    "여덟": "위럼",
    "위럼": "여덟",
    "아홉": "히룸",
    "히룸": "아홉",
    "열": "줅",
    "줅": "열",
    "스물": "돍줅",
    "돍줅": "스물",
    "서른": "위줅",
    "위줅": "서른",
    "마흔": "폴줅",
    "폴줅": "마흔",
    "쉰": "디론줅",
    "디론줅": "쉰",
    "예순": "위르줅",
    "위르줅": "예순",
    "일흔": "이룸줅",
    "이룸줅": "일흔",
    "여든": "위럼줅",
    "위럼줅": "여든",
    "아흔": "히룸줅",
    "히룸줅": "아흔",
    "온": "졹",
    "졹": "온",
    "즈믄": "잘륽",
    "잘륽": "즈믄",
    "골": "가륽",
    "가륽": "골",
    "만들다": "빠운딩",
    "빠운딩": "만들다",
    "어떻다": "푸리랑켜",
    "푸리랑켜": "어떻다",
    "라고 하는": "타이믐",
    "타이믐": "라고 하는",
    "사용": "아파르트",
    "아파르트": "사용",
    "누구": "칽미",
    "칽미": "누구",
    "나가다": "쵸리타못나",
    "쵸리타못나": "나가다",
    "그것": "뒷므",
    "뒷므": "그것",
    "말": "짜르뭉",
    "짜르뭉": "말",
    "이다": "지뢀",
    "지뢀": "이다",
    "우아": "왐마",
    "왐마": "우아",
    "아무": "라무르",
    "라무르": "아무",
    "아깝다": "까비",
    "까비": "아깝다",
    "부방장": "솨리왁",
    "솨리왁": "부방장",
    "방장": "리왁",
    "리왁": "방장",
    "슬프다": "리리무",
    "리리무": "슬프다",
    "기쁘다": "째째라크",
    "째쨰라크": "기쁘다",
    "신나다": "호로호로가",
    "호로호로가": "신나다",
    "즐겁다": "짜리라큼",
    "짜리라큼": "즐겁다",
    "재미": "소림가",
    "소림가": "재미",
    "있다": "좃시",
    "좃시": "있다",
    "없다": "랏시",
    "랏시": "없다",
    "화나다": "갓다자",
    "갓다자": "화나다",
    "짜증나다": "아리라카",
    "아리라카": "짜증나다",
    "수": "싸이라",
    "싸이라": "수",
    "그냥": "가이가",
    "가이가": "그냥",
    "얼굴": "좆못",
    "좆못": "얼굴",
    "번역": "헹수영",
    "헹수영": "번역",
    "자살": "가륵차",
    "가륵차": "자살",
    "사망": "쏘카테",
    "쏘카테": "사망",
    "죽음": "싸카테",
    "싸카테": "죽음",
    "죽이다": "쏘카테이",
    "쏘카테이": "죽이다",
    "죽다": "싸카테이",
    "싸카테이": "죽다",
    "띄어쓰기": "콩쿨",
    "콩쿨": "띄어쓰기",
    "달리다": "코코카륾",
    "코코카륾": "달리다",
    "뛰다": "쿵싸름",
    "쿵싸름": "뛰다",
    "힘들다": "나이레므",
    "나이레므": "힘들다",
    "지랄": "쭤이까",
    "쭤이까": "지랄",
    "병신": "뱁송",
    "뱁송": "병신",
    "빼다": "폭슥",
    "폭슥": "빼다",
    "더하다": "숡스",
    "숡스": "더하다",
    "나누다": "시크슭",
    "시크슭": "나누다",
    "곱하다": "싸이슥",
    "싸이슥": "곱하다",
    "나머지": "시크리",
    "스키리": "나머지",
    "안": "갇댐",
    "갇댐": "안",
    "왜": "휑",
    "휑": "왜",
    "라면": "나비보벳따우",
    "나비보벳따우": "라면"
};

let searchHistory = [];

function search() {
    const query = document.getElementById("main-search").value.trim();
    const resultsDiv = document.getElementById("output");

    if (!query) return;

    resultsDiv.innerHTML = "";

    if (dictionary[query]) {
        resultsDiv.innerHTML = `
            <p class="term">${query}</p>
            <p class="definition">변환: ${dictionary[query]}</p>
        `;
        updateHistory(query);
    } else {
        resultsDiv.innerHTML = `<p>이 단어는 없는 듯 합니다.</p>`;
    }
}

function updateHistory(query) {
    const now = new Date();
    if (query && !searchHistory.find(item => item.query === query)) {
        searchHistory.unshift({ query, time: now }); // 최근 검색어를 배열의 앞쪽에 추가
    } else if (query) {
        // 기존에 검색 기록이 있을 경우 가장 위로 이동
        searchHistory = searchHistory.filter(item => item.query !== query);
        searchHistory.unshift({ query, time: now });
    }
    
    const historyList = document.getElementById("history-list");
    historyList.innerHTML = "";
    searchHistory.forEach(item => {
        const li = document.createElement("li");
        const timeDiff = new Date() - new Date(item.time); // 시간 차이 계산 (밀리초 단위)
        const seconds = Math.floor(timeDiff / 1000);
        const minutes = Math.floor(seconds / 60);
        const hours = Math.floor(minutes / 60);
        
        let timeText;
        if (hours > 0) {
            timeText = `${hours}시간 ${minutes % 60}분 전`;
        } else if (minutes > 0) {
            timeText = `${minutes}분 ${seconds % 60}초 전`;
        } else {
            timeText = `${seconds}초 전`;
        }

        li.innerHTML = `
            <span onclick="searchTerm('${item.query}')">${item.query}</span>
            <span class="timestamp">${timeText}</span>
            <button onclick="removeHistory('${item.query}')">x</button>
        `;
        historyList.appendChild(li);
    });
}

function searchTerm(term) {
    document.getElementById("main-search").value = term;
    search();
}

function removeHistory(term) {
    searchHistory = searchHistory.filter(item => item.query !== term);
    updateHistory();
}

function clearAllHistory() {
    searchHistory = [];
    updateHistory();
}

// 실시간으로 시간 업데이트
function updateTimestamps() {
    const historyList = document.getElementById("history-list");
    const now = new Date();
    historyList.querySelectorAll('.timestamp').forEach(span => {
        const timeText = span.previousElementSibling.textContent; // 단어 가져오기
        const item = searchHistory.find(entry => entry.query === timeText);
        if (item) {
            const timeDiff = now - new Date(item.time); // 시간 차이 계산 (밀리초 단위)
            const seconds = Math.floor(timeDiff / 1000);
            const minutes = Math.floor(seconds / 60);
            const hours = Math.floor(minutes / 60);

            let updatedTimeText;
            if (hours > 0) {
                updatedTimeText = `${hours}시간 ${minutes % 60}분 전`;
            } else if (minutes > 0) {
                updatedTimeText = `${minutes}분 ${seconds % 60}초 전`;
            } else {
                updatedTimeText = `${seconds}초 전`;
            }

            span.textContent = updatedTimeText;
        }
    });
}

// 1초마다 타임스탬프 업데이트
setInterval(updateTimestamps, 1000);

function toggleSidebar() {
    const sidebar = document.getElementById("sidebar");
    sidebar.classList.toggle("open");
    document.body.style.marginRight = sidebar.classList.contains("open") ? "250px" : "0";
}

function showSection(section) {
    const sections = document.querySelectorAll('.section');
    sections.forEach(sec => {
        sec.classList.remove('active');
    });
    document.getElementById(section).classList.add('active');
}

function openLink1() {
    window.open('https://open.kakao.com/o/gtCFNCjg', '_blank');
}

function openLink2() {
    window.open('https://open.kakao.com/o/sAR1BnHg', '_blank');
}

function handleKeyUp(event) {
    if (event.key === 'Enter') {
        search();
    }
}
function downloadApp() {
    const apkUrl = "https://github.com/DDuya24/apkdolmengasajeon/releases/download/apk/default.apk"; // 호스팅한 APK 파일의 URL로 교체하세요
    window.location.href = apkUrl;
}
